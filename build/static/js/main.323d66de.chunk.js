(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(8),s=n.n(r),i=(n(15),n(16),n(17),n(1)),l=n(2),c=n(4),d=n(3),m=n(5),u=n(6),h=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).handleClick=function(e){var t=n.props,a=t.isOpen,o=t.id,r=t.isDiamond;a||(r&&n.props.onDiamondSelect(o),n.props.onCellSelect(o))},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isOpen,n=e.isDiamond;return o.a.createElement("div",{className:t?n?"boradcell bordeCellDiamond":"boradcell bordeCellOpen":"boradcell bordeCellClose\t",role:"button",id:this.props.id,onClick:this.handleClick},this.props.children)}}]),t}(o.a.Component),p=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={diamondSelections:[],selections:[],cellsArray:[],diamondsLocation:[],isGameOver:!1,inProgress:!1,currentCell:""},n.handleGameOver=function(e){n.setState({isGameOver:!0,score:e})},n.handleNewGame=function(){n.restartGame(),n.setState({isGameOver:!1,inProgress:!1})},n.handleResumeGame=function(){n.resumeGame(),n.setState({inProgress:!1})},n.restartGame=function(){var e=n.props,t=(e.size,e.numberOfDiamonds);n.setState({diamondsLocation:n.generateDiamondPositions(t),diamondSelections:[],selections:[],currentCell:""})},n.generateDiamondPositions=function(e){for(var t=[],n=e*e;t.length<e;){var a=Math.floor(Math.random()*(n-1+1))+1;-1===t.indexOf("cell-".concat(a))&&t.push("cell-".concat(a))}return t},n.handleSaveGame=function(e){localStorage.setItem("gameprogress",btoa(JSON.stringify({selections:n.state.selections,diamondsLocation:n.state.diamondsLocation,diamondSelections:n.state.diamondSelections,currentCell:e})))},n.resumeGame=function(){var e=JSON.parse(atob(localStorage.gameprogress));n.setState(e)},n.handleercellArray=function(e){for(var t=e*e,n=[],a=0;a<t;a++)n.push(a);return n},n.handleDiamondSelect=function(e){n.setState({diamondSelections:[].concat(Object(u.a)(n.state.diamondSelections),[e])},function(){n.state.diamondSelections.length===n.props.numberOfDiamonds&&n.handleGameOver(n.state.cellsArray.length-n.state.selections.length)})},n.handleSelectedCell=function(e){n.setState({selections:[].concat(Object(u.a)(n.state.selections),[e]),currentCell:e},function(){n.handleSaveGame(e)})},n.getRowAndColumnNumber=function(e,t){return[e%t,Math.floor(e/t)]},n.getDiamondLocation=function(){var e=n.state,t=e.currentCell,a=e.diamondsLocation,o=n.props.size,r=parseInt(t.split("-")[1]),s=n.getRowAndColumnNumber(r,o),i=0,l=0,c=a.filter(function(e){return-1===n.state.diamondSelections.indexOf(e)}).map(function(e){var t=parseInt(e.split("-")[1]),a=n.getRowAndColumnNumber(t,o);if(a[0]===s[0])i=a[1]>s[1]?90:270,l=Math.abs(a[1]-s[1]);else if(a[1]===s[1])i=a[0]>s[0]?0:180,l=Math.abs(a[0]-s[0]);else{a[1]<s[1]&&a[0]<s[0]?i=225:a[1]<s[1]&&a[0]>s[0]?i=315:a[1]>s[1]&&a[0]>s[0]?i=45:a[1]>s[1]&&a[0]<s[0]&&(i=135);var r=a[0]-s[1],c=a[1]-s[1];l=Math.sqrt(Math.pow(r,2)+Math.pow(c,2))}return{angle:i,distance:l}});return c.length>0?c.reduce(function(e,t){return e.distance<t.distance?e:t}):{}},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.size,n=e.numberOfDiamonds;this.setState({cellsArray:this.handleercellArray(t),diamondsLocation:this.generateDiamondPositions(n),inProgress:!0})}},{key:"render",value:function(){var e=this,t=this.props.size,n=this.getDiamondLocation();return o.a.createElement("div",null,o.a.createElement("div",{className:"gameBoard gameContainer"},this.state.cellsArray.map(function(a,r){return o.a.createElement(h,{key:a,id:"cell-".concat(a),size:t,isOpen:e.state.selections.indexOf("cell-".concat(a))>-1,isDiamond:e.state.diamondsLocation.indexOf("cell-".concat(a))>-1,onCellSelect:e.handleSelectedCell,onDiamondSelect:e.handleDiamondSelect},e.state.currentCell==="cell-".concat(a)&&-1===e.state.diamondSelections.indexOf("cell-".concat(a))&&o.a.createElement("div",{className:"bordeCellArrow",style:{transform:"rotate(".concat(n.angle,"deg)")}}))})),this.state.isGameOver&&o.a.createElement("div",{className:"gameResult"},o.a.createElement("h3",null,"Your Score: ".concat(this.state.score)),o.a.createElement("button",{onClick:this.handleNewGame},"New Game")),this.state.inProgress&&o.a.createElement("div",{className:"gameResume"},o.a.createElement("h3",null,"Resume Game"),o.a.createElement("button",{onClick:this.handleResumeGame},"Resume Game"),o.a.createElement("button",{onClick:this.handleNewGame},"New Game")))}}]),t}(o.a.Component),f=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={isGameOver:!1,inProgress:!1},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return console.log("SDDSDSSDDSDS render",this.state.inProgress),o.a.createElement("div",{className:"container"},o.a.createElement(p,{size:8,numberOfDiamonds:6,handleGameOver:this.handleGameOver}))}}]),t}(o.a.Component);var v=function(){return o.a.createElement("div",{className:"App"},o.a.createElement("h3",null,"Diamond header"),o.a.createElement(f,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,n){e.exports=n(18)}},[[9,1,2]]]);
//# sourceMappingURL=main.323d66de.chunk.js.map